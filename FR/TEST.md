# 動作確認手順

## Streamlitアプリの起動方法

### 方法1: venv環境から直接実行（推奨）

```powershell
# venv環境を有効化
cd python/streamlit
.\venv\Scripts\Activate.ps1

# FRディレクトリに移動
cd ..\..\FR

# Streamlitアプリを起動
streamlit run app.py
```

### 方法2: venv環境のpythonを直接使用

```powershell
cd python/streamlit
.\venv\Scripts\python.exe -m streamlit run ..\..\FR\app.py
```

## 動作確認チェックリスト

### ステップ2（機能追加版）の確認項目

#### ✅ サイドバーフィルター
- [ ] 期間フィルターが動作するか
- [ ] カテゴリフィルターが動作するか
- [ ] ベンダーフィルターが動作するか
- [ ] 支出金額フィルターが動作するか

#### ✅ タブ1: 概要ダッシュボード
- [ ] KPI指標が8個表示されるか（総支出額、平均月間支出、総取引件数、平均取引額、最大支出額、最小支出額、支出カテゴリ数、ベンダー数）
- [ ] 月別支出推移グラフが表示されるか
- [ ] 月別取引件数推移グラフが表示されるか
- [ ] カテゴリ別支出シェアグラフが表示されるか
- [ ] トップベンダー別支出グラフが表示されるか
- [ ] 月別支出比較グラフが表示されるか

#### ✅ タブ2: 時系列分析
- [ ] 月別総支出推移グラフが表示されるか
- [ ] 月別取引件数推移グラフが表示されるか
- [ ] 月別平均取引額推移グラフが表示されるか
- [ ] 累積支出推移グラフ（エリアチャート）が表示されるか
- [ ] 年別比較グラフ（2024年 vs 2025年）が表示されるか

#### ✅ タブ3: カテゴリ分析
- [ ] カテゴリ別総支出グラフが表示されるか
- [ ] カテゴリ別平均取引額グラフが表示されるか
- [ ] カテゴリ別取引件数グラフが表示されるか
- [ ] カテゴリ別の月別支出推移グラフが表示されるか

#### ✅ タブ4: ベンダー分析
- [ ] 支出額上位10ベンダーグラフが表示されるか
- [ ] 取引件数上位10ベンダーグラフが表示されるか
- [ ] 主要ベンダーの月別支出推移グラフが表示されるか

#### ✅ タブ5: 詳細データ探索
- [ ] ベンダー名検索が動作するか
- [ ] 説明文検索が動作するか
- [ ] 複数カラムソートが動作するか（第1ソート、第2ソート）
- [ ] データテーブルが正しく表示されるか
- [ ] CSVダウンロードが動作するか
- [ ] データサマリーが正しく表示されるか

## トラブルシューティング

### エラー: ModuleNotFoundError: No module named 'streamlit'
**解決方法**: venv環境を有効化してください
```powershell
cd python/streamlit
.\venv\Scripts\Activate.ps1
```

### エラー: データファイルが見つかりません
**解決方法**: FRディレクトリにLogistic.csvが存在するか確認してください

### エラー: ポート8501が既に使用されています
**解決方法**: 別のポートで実行するか、既存のプロセスを終了してください
```powershell
streamlit run app.py --server.port=8502
```

### グラフが表示されない
**確認項目**:
- データが正しく読み込まれているか
- フィルター条件が適切か
- ブラウザのコンソールにエラーがないか

## 期待される動作

1. **アプリ起動**: ブラウザが自動的に開き、ダッシュボードが表示される
2. **データ読み込み**: CSVファイルが正しく読み込まれ、データが表示される
3. **フィルター動作**: サイドバーのフィルターを変更すると、グラフとデータが更新される
4. **タブ切り替え**: 各タブをクリックすると、対応する分析ページが表示される
5. **グラフ表示**: すべてのグラフが正しく表示され、インタラクティブに操作できる

