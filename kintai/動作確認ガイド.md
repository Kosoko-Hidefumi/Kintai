# 動作確認ガイド

## 1. アプリの起動確認

アプリは以下のコマンドで起動されています：
```bash
streamlit run app.py
```

ブラウザで `http://localhost:8501` にアクセスして、アプリが表示されることを確認してください。

## 2. 動作確認チェックリスト

### ✅ 基本動作確認

- [ ] アプリが正常に起動し、ブラウザで表示される
- [ ] サイドバーに「勤怠管理システム」のタイトルが表示される
- [ ] サイドバーに「設定」「ユーザー選択」「メニュー」セクションが表示される

### ✅ サイドバー機能

- [ ] GoogleスプレッドシートIDの入力欄が表示される
- [ ] ユーザー選択で職員5名と「管理者」が選択できる
- [ ] メニューから「🗓 カレンダー」「📝 休暇申請」「📋 掲示板」が選択できる
- [ ] 管理者を選択した時のみ「📈 管理者用集計」メニューが表示される

### ✅ 各ページの動作確認

#### カレンダーページ
- [ ] スプレッドシートIDが未設定の場合、エラーメッセージが表示される
- [ ] スプレッドシートIDが設定されている場合、カレンダーが表示される（データがない場合はメッセージが表示される）
- [ ] 休暇種別ごとに色分けされている（年休: 赤、夏休み: 青緑、代休: 黄色）
- [ ] 凡例が表示される

#### 休暇申請ページ
- [ ] 職員を選択していない場合、警告メッセージが表示される
- [ ] フォームが表示され、以下が入力できる：
  - 職員名（選択）
  - 休暇取得日（日付選択）
  - 休暇種別（年休/夏休み/代休）
  - 開始時間・終了時間
  - 備考
- [ ] 「申請を送信」ボタンで送信できる
- [ ] 送信後、成功メッセージが表示される

#### 掲示板ページ
- [ ] 「📝 新しい投稿を作成」エクスパンダーが表示される
- [ ] タイトルと本文を入力できる
- [ ] 投稿後、最新の投稿が一番上に表示される
- [ ] カード型レイアウトで投稿が表示される

#### 管理者用集計ページ
- [ ] 管理者以外がアクセスした場合、警告メッセージが表示される
- [ ] 管理者がアクセスした場合、ページが表示される

## 3. エラーが発生した場合

### Google Sheets認証エラー
```
認証情報の取得に失敗しました
```
**対処法**: `.streamlit/secrets.toml` に認証情報が設定されているか確認してください。

### スプレッドシートIDエラー
```
スプレッドシートの取得に失敗しました
```
**対処法**: 
- スプレッドシートIDが正しいか確認
- サービスアカウントにスプレッドシートの編集権限が付与されているか確認

### シート名エラー
```
シート 'attendance_logs' の取得に失敗しました
```
**対処法**: スプレッドシートに `attendance_logs` と `bulletin_board` シートが存在するか確認してください。

## 4. テストデータの準備

動作確認のため、以下のテストデータをスプレッドシートに手動で追加できます：

### attendance_logs シート
| event_id | date | staff_name | type | start_time | end_time | duration_hours | day_equivalent | fiscal_year | remarks |
|----------|------|------------|------|------------|----------|----------------|----------------|-------------|---------|
| test-001 | 2025-01-15 | 職員A | 年休 | 09:00 | 17:00 | 8.0 | 1.0 | 2024 | テスト |

### bulletin_board シート
| timestamp | author | title | content |
|-----------|--------|-------|---------|
| 2025-01-20 10:00:00 | 職員A | テスト投稿 | これはテスト投稿です |

## 5. 次のステップ

動作確認が完了したら、以下のステップに進みます：
- Step 7: 管理者専用集計ダッシュボードの実装
- Step 8: ID指定による修正・削除機能の実装
