# Streamlitプロセスの強制終了方法

## 方法1: タスクマネージャーから終了

1. `Ctrl + Shift + Esc`でタスクマネージャーを開く
2. 「詳細」タブを選択
3. 「python.exe」または「streamlit」を探す
4. 右クリック → 「タスクの終了」

## 方法2: PowerShellで強制終了

### すべてのPythonプロセスを終了

```powershell
Get-Process python -ErrorAction SilentlyContinue | Stop-Process -Force
```

### 特定のポートを使用しているプロセスを終了

```powershell
# ポート8501を使用しているプロセスを終了
$port = 8501
$processId = (Get-NetTCPConnection -LocalPort $port -ErrorAction SilentlyContinue).OwningProcess
if ($processId) {
    Stop-Process -Id $processId -Force
    Write-Host "プロセス $processId を終了しました"
} else {
    Write-Host "ポート $port を使用しているプロセスが見つかりません"
}
```

### ポート8502を使用しているプロセスを終了

```powershell
$port = 8502
$processId = (Get-NetTCPConnection -LocalPort $port -ErrorAction SilentlyContinue).OwningProcess
if ($processId) {
    Stop-Process -Id $processId -Force
    Write-Host "プロセス $processId を終了しました"
} else {
    Write-Host "ポート $port を使用しているプロセスが見つかりません"
}
```

## 方法3: コマンドプロンプトで終了

```cmd
# プロセスIDを確認
netstat -ano | findstr ":8501"
netstat -ano | findstr ":8502"

# プロセスを強制終了（PIDは実際のプロセスIDに置き換える）
taskkill /PID <プロセスID> /F
```

## 方法4: すべてのStreamlit関連プロセスを終了

```powershell
# Pythonプロセスをすべて終了（注意：他のPythonアプリも終了します）
Get-Process python -ErrorAction SilentlyContinue | Stop-Process -Force

# より安全な方法：特定のポートのみを終了
8501, 8502, 8503 | ForEach-Object {
    $port = $_
    $processId = (Get-NetTCPConnection -LocalPort $port -ErrorAction SilentlyContinue).OwningProcess
    if ($processId) {
        Stop-Process -Id $processId -Force
        Write-Host "ポート $port のプロセス $processId を終了しました"
    }
}
```

## 確認方法

プロセスが終了したか確認：

```powershell
# ポート8501を確認
netstat -ano | findstr ":8501"

# ポート8502を確認
netstat -ano | findstr ":8502"

# Pythonプロセスを確認
Get-Process python -ErrorAction SilentlyContinue
```

何も表示されなければ、プロセスは終了しています。

## 再起動方法

プロセスを終了した後、以下のコマンドで再起動：

```powershell
# 仮想環境を有効化
.\venv\Scripts\Activate.ps1

# アプリを起動
streamlit run app.py
```
