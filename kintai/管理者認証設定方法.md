# 管理者認証設定方法

管理者機能にアクセスするには、パスワード認証が必要です。

## 現在の状態

現在、**誰でも「管理者」を選択できますが、パスワードを入力しないと管理者機能にアクセスできません**。

## パスワードの設定方法

### 1. secrets.tomlにパスワードを設定

`.streamlit/secrets.toml` ファイルを開き、以下の行を追加または編集してください：

```toml
admin_password = "あなたのパスワード"
```

**例：**
```toml
admin_password = "MySecurePassword123!"
```

### 2. デフォルトパスワード

`secrets.toml`に`admin_password`が設定されていない場合、デフォルトパスワード `admin123` が使用されます。

**⚠️ 警告**: デフォルトパスワードはセキュリティ上危険です。必ず変更してください。

## 使用方法

1. サイドバーで「管理者」を選択
2. 「🔐 管理者認証」セクションが表示されます
3. パスワードを入力
4. 「認証」ボタンをクリック
5. 認証が成功すると、以下の機能が利用可能になります：
   - スプレッドシートID設定
   - 管理者用集計ダッシュボード

## セキュリティに関する注意事項

- **パスワードは強力なものを設定してください**
  - 8文字以上
  - 大文字・小文字・数字・記号を含む
  - 推測しにくいもの

- **パスワードは秘密にしてください**
  - `secrets.toml`は`.gitignore`に含まれているため、Gitにコミットされません
  - しかし、ファイルを他人と共有しないでください

- **定期的にパスワードを変更することを推奨します**

## 認証状態のリセット

- ユーザーを変更すると、認証状態は自動的にリセットされます
- ブラウザを閉じると、認証状態は失われます（セッション状態のため）

## トラブルシューティング

### パスワードが正しいのに認証できない

1. `secrets.toml`の`admin_password`を確認
2. スペースや改行が含まれていないか確認
3. アプリを再起動して再試行

### デフォルトパスワードの警告が表示される

`secrets.toml`に`admin_password`を追加してください。
